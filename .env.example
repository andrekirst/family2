# Family Hub Environment Configuration
# Copy this file to .env and update with your values

# Database Configuration
POSTGRES_CONNECTION_STRING=Host=localhost;Port=5432;Database=familyhub;Username=familyhub;Password=familyhub

# Keycloak OAuth Configuration
KEYCLOAK_AUTHORITY=http://localhost:8080/realms/FamilyHub
KEYCLOAK_AUDIENCE=account
KEYCLOAK_CLIENT_ID=familyhub-api
KEYCLOAK_CLIENT_SECRET=familyhub-api-secret-change-in-production
# Keycloak public issuer URL (set when running behind a reverse proxy)
# Leave empty to default to KEYCLOAK_AUTHORITY
KEYCLOAK_ISSUER=

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:4200

# Frontend Configuration (for deployment)
FRONTEND_URL=http://localhost:4200
API_URL=http://localhost:5152

# Multi-Environment (set by Taskfile automatically)
# ENV_NAME=feature-121-sidebar

# Infisical Secrets Management
# Self-hosted at http://localhost:8180 (started with docker compose)
# Generate keys: openssl rand -hex 32 (encryption), openssl rand -base64 32 (auth)
INFISICAL_ENCRYPTION_KEY=
INFISICAL_AUTH_SECRET=
#
# Machine Identity credentials â€” export these in your shell (e.g. ~/.bashrc):
#   export INFISICAL_PROJECT_ID=...
#   export INFISICAL_CLIENT_ID=...
#   export INFISICAL_CLIENT_SECRET=...
#
# Google secrets (GOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET, GOOGLE_ENCRYPTION_KEY) are
# fetched automatically from Infisical by the fetch script. No .env file needed.
# The API reads them at runtime via InfisicalConfigurationProvider.
# Keycloak receives them via host env vars set by `task env:up`.
# Debug: run `task env:secrets` to verify.

# Production Settings (update for deployment)
# KEYCLOAK_AUTHORITY=https://auth.familyhub.com/realms/FamilyHub
# KEYCLOAK_ISSUER=https://auth.familyhub.com/realms/FamilyHub
# CORS_ORIGINS=https://app.familyhub.com
# FRONTEND_URL=https://app.familyhub.com
# API_URL=https://api.familyhub.com
